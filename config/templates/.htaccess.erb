RewriteEngine on
Options +FollowSymlinks -Multiviews

# 404
ErrorDocument 404 <%= database['urlpath'] %>index.php?p=404

# Dashboard
RewriteRule ^dashboard/$ <%= database['urlpath'] %>dashboard/index.php

# Login
RewriteRule ^login/$ <%= database['urlpath'] %>login.php
RewriteRule ^login/logged-out/$ <%= database['urlpath'] %>login.php?status=logged
RewriteRule ^login/activated/$ <%= database['urlpath'] %>login.php?status=activated
RewriteRule ^login/success/$ <%= database['urlpath'] %>login.php?status=success

# Logout
RewriteRule ^logout/$ <%= database['urlpath'] %>logout.php

# Trials
RewriteRule ^trials/$ <%= database['urlpath'] %>trials/index.php
RewriteRule ^trials/vote-removed/$ <%= database['urlpath'] %>trials/index.php?status=removed
RewriteRule ^trials/vote-added/$ <%= database['urlpath'] %>trials/index.php?status=added

# Sign Up pages
RewriteRule ^designer/sign-up/$ <%= database['urlpath'] %>freelancers/signup.php?usertype=designer
RewriteRule ^developer/sign-up/$ <%= database['urlpath'] %>freelancers/signup.php?usertype=developer
RewriteRule ^employers/sign-up/$ <%= database['urlpath'] %>employers/signup.php

# Profile pages
RewriteRule ^developer/profile/([0-9]+)/$ <%= database['urlpath'] %>profile.php?usertype=developer&id=$1
RewriteRule ^designer/profile/([0-9]+)/$ <%= database['urlpath'] %>profile.php?usertype=designer&id=$1

RewriteRule ^developer/profile/([0-9]+)/(.*)/$ <%= database['urlpath'] %>profile.php?usertype=developer&id=$1&
RewriteRule ^designer/profile/([0-9]+)/(.*)/$ <%= database['urlpath'] %>profile.php?usertype=designer&id=$1&status=$2

RewriteRule ^employer/profile/([0-9]+)/$ <%= database['urlpath'] %>profile.php?usertype=employer&id=$1

# Job pages
RewriteRule ^job/([0-9]+)/(.*)/$ <%= database['urlpath'] %>jobs/index.php?id=$1&name=$2
RewriteRule ^job/post/$ <%= database['urlpath'] %>jobs/post.php

# Account pages
RewriteRule ^settings/account-settings/$ <%= database['urlpath'] %>settings/account-settings.php
RewriteRule ^settings/edit-profile/$ <%= database['urlpath'] %>settings/edit-profile.php
RewriteRule ^settings/change-password/$ <%= database['urlpath'] %>settings/change-password.php
RewriteRule ^settings/recover-password/$ <%= database['urlpath'] %>settings/confirm-recover.php

# User list pages
RewriteRule ^(.*)/list/$ <%= database['urlpath'] %>list.php?type=$1

# Pages
RewriteRule ^about/$ <%= database['urlpath'] %>index.php?p=about
RewriteRule ^sitemap/$ <%= database['urlpath'] %>index.php?p=sitemap
RewriteRule ^terms-and-conditions/$ <%= database['urlpath'] %>index.php?p=terms